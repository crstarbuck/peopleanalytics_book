<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Analysis of Differences | An Introduction to the People Analytics Lifecycle: With Applications in R</title>
  <meta name="description" content="An end-to-end guide for successful analytics projects in the social sciences" />
  <meta name="generator" content="bookdown 0.24.4 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Analysis of Differences | An Introduction to the People Analytics Lifecycle: With Applications in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An end-to-end guide for successful analytics projects in the social sciences" />
  <meta name="github-repo" content="crstarbuck/peopleanalytics-lifecycle-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Analysis of Differences | An Introduction to the People Analytics Lifecycle: With Applications in R" />
  
  <meta name="twitter:description" content="An end-to-end guide for successful analytics projects in the social sciences" />
  

<meta name="author" content="Craig Starbuck" />


<meta name="date" content="2022-03-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-wrang-prep.html"/>
<link rel="next" href="lm.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction to the People Analytics Lifecycle: With Applications in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i><b>1</b> Foreword</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started.html"><a href="getting-started.html#guiding-principles"><i class="fa fa-check"></i><b>3.1</b> Guiding Principles</a><ul>
<li class="chapter" data-level="3.1.1" data-path="getting-started.html"><a href="getting-started.html#pro-employee-thinking"><i class="fa fa-check"></i><b>3.1.1</b> Pro Employee Thinking</a></li>
<li class="chapter" data-level="3.1.2" data-path="getting-started.html"><a href="getting-started.html#quality"><i class="fa fa-check"></i><b>3.1.2</b> Quality</a></li>
<li class="chapter" data-level="3.1.3" data-path="getting-started.html"><a href="getting-started.html#prioritization"><i class="fa fa-check"></i><b>3.1.3</b> Prioritization</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="getting-started.html"><a href="getting-started.html#tools"><i class="fa fa-check"></i><b>3.2</b> Tools</a><ul>
<li class="chapter" data-level="3.2.1" data-path="getting-started.html"><a href="getting-started.html#r"><i class="fa fa-check"></i><b>3.2.1</b> R</a></li>
<li class="chapter" data-level="3.2.2" data-path="getting-started.html"><a href="getting-started.html#data"><i class="fa fa-check"></i><b>3.2.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="getting-started.html"><a href="getting-started.html#d-framework"><i class="fa fa-check"></i><b>3.3</b> 4D Framework</a><ul>
<li class="chapter" data-level="3.3.1" data-path="getting-started.html"><a href="getting-started.html#discover"><i class="fa fa-check"></i><b>3.3.1</b> Discover</a></li>
<li class="chapter" data-level="3.3.2" data-path="getting-started.html"><a href="getting-started.html#design"><i class="fa fa-check"></i><b>3.3.2</b> Design</a></li>
<li class="chapter" data-level="3.3.3" data-path="getting-started.html"><a href="getting-started.html#develop"><i class="fa fa-check"></i><b>3.3.3</b> Develop</a></li>
<li class="chapter" data-level="3.3.4" data-path="getting-started.html"><a href="getting-started.html#deliver"><i class="fa fa-check"></i><b>3.3.4</b> Deliver</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-intro.html"><a href="r-intro.html"><i class="fa fa-check"></i><b>4</b> Introduction to R</a><ul>
<li class="chapter" data-level="4.1" data-path="r-intro.html"><a href="r-intro.html#getting-started-1"><i class="fa fa-check"></i><b>4.1</b> Getting Started</a></li>
<li class="chapter" data-level="4.2" data-path="r-intro.html"><a href="r-intro.html#vectors"><i class="fa fa-check"></i><b>4.2</b> Vectors</a></li>
<li class="chapter" data-level="4.3" data-path="r-intro.html"><a href="r-intro.html#matrices"><i class="fa fa-check"></i><b>4.3</b> Matrices</a></li>
<li class="chapter" data-level="4.4" data-path="r-intro.html"><a href="r-intro.html#factors"><i class="fa fa-check"></i><b>4.4</b> Factors</a></li>
<li class="chapter" data-level="4.5" data-path="r-intro.html"><a href="r-intro.html#data-frames"><i class="fa fa-check"></i><b>4.5</b> Data Frames</a></li>
<li class="chapter" data-level="4.6" data-path="r-intro.html"><a href="r-intro.html#lists"><i class="fa fa-check"></i><b>4.6</b> Lists</a></li>
<li class="chapter" data-level="4.7" data-path="r-intro.html"><a href="r-intro.html#loops"><i class="fa fa-check"></i><b>4.7</b> Loops</a></li>
<li class="chapter" data-level="4.8" data-path="r-intro.html"><a href="r-intro.html#user-defined-functions-udfs"><i class="fa fa-check"></i><b>4.8</b> User-Defined Functions (UDFs)</a></li>
<li class="chapter" data-level="4.9" data-path="r-intro.html"><a href="r-intro.html#graphics"><i class="fa fa-check"></i><b>4.9</b> Graphics</a></li>
<li class="chapter" data-level="4.10" data-path="r-intro.html"><a href="r-intro.html#exercises"><i class="fa fa-check"></i><b>4.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="measure-sampl.html"><a href="measure-sampl.html"><i class="fa fa-check"></i><b>5</b> Measurement &amp; Sampling</a><ul>
<li class="chapter" data-level="5.1" data-path="measure-sampl.html"><a href="measure-sampl.html#variable-types"><i class="fa fa-check"></i><b>5.1</b> Variable Types</a><ul>
<li class="chapter" data-level="5.1.1" data-path="measure-sampl.html"><a href="measure-sampl.html#independent-variables-iv"><i class="fa fa-check"></i><b>5.1.1</b> Independent Variables (IV)</a></li>
<li class="chapter" data-level="5.1.2" data-path="measure-sampl.html"><a href="measure-sampl.html#dependent-variables-dv"><i class="fa fa-check"></i><b>5.1.2</b> Dependent Variables (DV)</a></li>
<li class="chapter" data-level="5.1.3" data-path="measure-sampl.html"><a href="measure-sampl.html#control-variables-cv"><i class="fa fa-check"></i><b>5.1.3</b> Control Variables (CV)</a></li>
<li class="chapter" data-level="5.1.4" data-path="measure-sampl.html"><a href="measure-sampl.html#moderating-variables"><i class="fa fa-check"></i><b>5.1.4</b> Moderating Variables</a></li>
<li class="chapter" data-level="5.1.5" data-path="measure-sampl.html"><a href="measure-sampl.html#mediating-variables"><i class="fa fa-check"></i><b>5.1.5</b> Mediating Variables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="measure-sampl.html"><a href="measure-sampl.html#measurement-scales"><i class="fa fa-check"></i><b>5.2</b> Measurement Scales</a><ul>
<li class="chapter" data-level="5.2.1" data-path="measure-sampl.html"><a href="measure-sampl.html#discrete-variables"><i class="fa fa-check"></i><b>5.2.1</b> Discrete Variables</a></li>
<li class="chapter" data-level="5.2.2" data-path="measure-sampl.html"><a href="measure-sampl.html#continuous-variables"><i class="fa fa-check"></i><b>5.2.2</b> Continuous Variables</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="measure-sampl.html"><a href="measure-sampl.html#sampling"><i class="fa fa-check"></i><b>5.3</b> Sampling</a><ul>
<li class="chapter" data-level="5.3.1" data-path="measure-sampl.html"><a href="measure-sampl.html#sampling-nonsampling-error"><i class="fa fa-check"></i><b>5.3.1</b> Sampling &amp; Nonsampling Error</a></li>
<li class="chapter" data-level="5.3.2" data-path="measure-sampl.html"><a href="measure-sampl.html#sampling-methods"><i class="fa fa-check"></i><b>5.3.2</b> Sampling Methods</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="measure-sampl.html"><a href="measure-sampl.html#exercises-1"><i class="fa fa-check"></i><b>5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="research.html"><a href="research.html"><i class="fa fa-check"></i><b>6</b> Research Fundamentals</a><ul>
<li class="chapter" data-level="6.1" data-path="research.html"><a href="research.html#research-questions"><i class="fa fa-check"></i><b>6.1</b> Research Questions</a></li>
<li class="chapter" data-level="6.2" data-path="research.html"><a href="research.html#research-hypotheses"><i class="fa fa-check"></i><b>6.2</b> Research Hypotheses</a></li>
<li class="chapter" data-level="6.3" data-path="research.html"><a href="research.html#internal-vs.external-validity"><i class="fa fa-check"></i><b>6.3</b> Internal vs. External Validity</a></li>
<li class="chapter" data-level="6.4" data-path="research.html"><a href="research.html#research-methods"><i class="fa fa-check"></i><b>6.4</b> Research Methods</a></li>
<li class="chapter" data-level="6.5" data-path="research.html"><a href="research.html#research-designs"><i class="fa fa-check"></i><b>6.5</b> Research Designs</a></li>
<li class="chapter" data-level="6.6" data-path="research.html"><a href="research.html#exercises-2"><i class="fa fa-check"></i><b>6.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="desc-stats.html"><a href="desc-stats.html"><i class="fa fa-check"></i><b>7</b> Descriptive Statistics</a><ul>
<li class="chapter" data-level="7.1" data-path="desc-stats.html"><a href="desc-stats.html#univariate-analysis"><i class="fa fa-check"></i><b>7.1</b> Univariate Analysis</a><ul>
<li class="chapter" data-level="7.1.1" data-path="desc-stats.html"><a href="desc-stats.html#measures-of-central-tendency"><i class="fa fa-check"></i><b>7.1.1</b> Measures of Central Tendency</a></li>
<li class="chapter" data-level="7.1.2" data-path="desc-stats.html"><a href="desc-stats.html#measures-of-spread"><i class="fa fa-check"></i><b>7.1.2</b> Measures of Spread</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="desc-stats.html"><a href="desc-stats.html#bivariate-analysis"><i class="fa fa-check"></i><b>7.2</b> Bivariate Analysis</a><ul>
<li class="chapter" data-level="7.2.1" data-path="desc-stats.html"><a href="desc-stats.html#covariance"><i class="fa fa-check"></i><b>7.2.1</b> Covariance</a></li>
<li class="chapter" data-level="7.2.2" data-path="desc-stats.html"><a href="desc-stats.html#correlation"><i class="fa fa-check"></i><b>7.2.2</b> Correlation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="desc-stats.html"><a href="desc-stats.html#exercises-3"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="inf-stats.html"><a href="inf-stats.html"><i class="fa fa-check"></i><b>8</b> Inferential Statistics</a><ul>
<li class="chapter" data-level="8.1" data-path="inf-stats.html"><a href="inf-stats.html#introduction-to-probability"><i class="fa fa-check"></i><b>8.1</b> Introduction to Probability</a><ul>
<li class="chapter" data-level="8.1.1" data-path="inf-stats.html"><a href="inf-stats.html#probability-distributions"><i class="fa fa-check"></i><b>8.1.1</b> Probability Distributions</a></li>
<li class="chapter" data-level="8.1.2" data-path="inf-stats.html"><a href="inf-stats.html#conditional-probability"><i class="fa fa-check"></i><b>8.1.2</b> Conditional Probability</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="inf-stats.html"><a href="inf-stats.html#central-limit-theorem"><i class="fa fa-check"></i><b>8.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="8.3" data-path="inf-stats.html"><a href="inf-stats.html#confidence-intervals"><i class="fa fa-check"></i><b>8.3</b> Confidence Intervals</a><ul>
<li class="chapter" data-level="8.3.1" data-path="inf-stats.html"><a href="inf-stats.html#hypothesis-testing"><i class="fa fa-check"></i><b>8.3.1</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="8.3.2" data-path="inf-stats.html"><a href="inf-stats.html#alpha"><i class="fa fa-check"></i><b>8.3.2</b> Alpha</a></li>
<li class="chapter" data-level="8.3.3" data-path="inf-stats.html"><a href="inf-stats.html#beta"><i class="fa fa-check"></i><b>8.3.3</b> Beta</a></li>
<li class="chapter" data-level="8.3.4" data-path="inf-stats.html"><a href="inf-stats.html#type-i-ii-errors"><i class="fa fa-check"></i><b>8.3.4</b> Type I &amp; II Errors</a></li>
<li class="chapter" data-level="8.3.5" data-path="inf-stats.html"><a href="inf-stats.html#p-values"><i class="fa fa-check"></i><b>8.3.5</b> P-Values</a></li>
<li class="chapter" data-level="8.3.6" data-path="inf-stats.html"><a href="inf-stats.html#bonferroni-correction"><i class="fa fa-check"></i><b>8.3.6</b> Bonferroni Correction</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="inf-stats.html"><a href="inf-stats.html#exercises-4"><i class="fa fa-check"></i><b>8.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html"><i class="fa fa-check"></i><b>9</b> Data Wrangling and Preparation</a><ul>
<li class="chapter" data-level="9.1" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html#data-management"><i class="fa fa-check"></i><b>9.1</b> Data Management</a></li>
<li class="chapter" data-level="9.2" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html#sql"><i class="fa fa-check"></i><b>9.2</b> SQL</a></li>
<li class="chapter" data-level="9.3" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html#data-screening-cleaning"><i class="fa fa-check"></i><b>9.3</b> Data Screening &amp; Cleaning</a></li>
<li class="chapter" data-level="9.4" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html#one-hot-encoding"><i class="fa fa-check"></i><b>9.4</b> One-Hot Encoding</a></li>
<li class="chapter" data-level="9.5" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html#feature-engineering"><i class="fa fa-check"></i><b>9.5</b> Feature Engineering</a></li>
<li class="chapter" data-level="9.6" data-path="data-wrang-prep.html"><a href="data-wrang-prep.html#exercises-5"><i class="fa fa-check"></i><b>9.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aod.html"><a href="aod.html"><i class="fa fa-check"></i><b>10</b> Analysis of Differences</a><ul>
<li class="chapter" data-level="10.1" data-path="aod.html"><a href="aod.html#parametric-vs.nonparametric-tests"><i class="fa fa-check"></i><b>10.1</b> Parametric vs. Nonparametric Tests</a></li>
<li class="chapter" data-level="10.2" data-path="aod.html"><a href="aod.html#differences-in-discrete-data"><i class="fa fa-check"></i><b>10.2</b> Differences in Discrete Data</a></li>
<li class="chapter" data-level="10.3" data-path="aod.html"><a href="aod.html#differences-in-continuous-data"><i class="fa fa-check"></i><b>10.3</b> Differences in Continuous Data</a><ul>
<li class="chapter" data-level="10.3.1" data-path="aod.html"><a href="aod.html#post-hoc-tests"><i class="fa fa-check"></i><b>10.3.1</b> Post-Hoc Tests</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="aod.html"><a href="aod.html#exercises-6"><i class="fa fa-check"></i><b>10.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="lm.html"><a href="lm.html"><i class="fa fa-check"></i><b>11</b> Linear Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="lm.html"><a href="lm.html#simple-linear-regression"><i class="fa fa-check"></i><b>11.1</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="11.1.1" data-path="lm.html"><a href="lm.html#parameter-estimation"><i class="fa fa-check"></i><b>11.1.1</b> Parameter Estimation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="lm.html"><a href="lm.html#multiple-linear-regression"><i class="fa fa-check"></i><b>11.2</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="11.2.1" data-path="lm.html"><a href="lm.html#moderation"><i class="fa fa-check"></i><b>11.2.1</b> Moderation</a></li>
<li class="chapter" data-level="11.2.2" data-path="lm.html"><a href="lm.html#mediation"><i class="fa fa-check"></i><b>11.2.2</b> Mediation</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="lm.html"><a href="lm.html#polynomial-regression"><i class="fa fa-check"></i><b>11.3</b> Polynomial Regression</a></li>
<li class="chapter" data-level="11.4" data-path="lm.html"><a href="lm.html#hierarchical-models"><i class="fa fa-check"></i><b>11.4</b> Hierarchical Models</a></li>
<li class="chapter" data-level="11.5" data-path="lm.html"><a href="lm.html#exercises-7"><i class="fa fa-check"></i><b>11.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>12</b> Generalized Linear Regression</a><ul>
<li class="chapter" data-level="12.1" data-path="glm.html"><a href="glm.html#logistic-regression"><i class="fa fa-check"></i><b>12.1</b> Logistic Regression</a><ul>
<li class="chapter" data-level="12.1.1" data-path="glm.html"><a href="glm.html#binomial-logistic-regression"><i class="fa fa-check"></i><b>12.1.1</b> Binomial Logistic Regression</a></li>
<li class="chapter" data-level="12.1.2" data-path="glm.html"><a href="glm.html#multinomial-logistic-regression"><i class="fa fa-check"></i><b>12.1.2</b> Multinomial Logistic Regression</a></li>
<li class="chapter" data-level="12.1.3" data-path="glm.html"><a href="glm.html#ordinal-logistic-regression"><i class="fa fa-check"></i><b>12.1.3</b> Ordinal Logistic Regression</a></li>
<li class="chapter" data-level="12.1.4" data-path="glm.html"><a href="glm.html#proportional-odds-logistic-regression"><i class="fa fa-check"></i><b>12.1.4</b> Proportional Odds Logistic Regression</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="glm.html"><a href="glm.html#poisson-regression"><i class="fa fa-check"></i><b>12.2</b> Poisson Regression</a></li>
<li class="chapter" data-level="12.3" data-path="glm.html"><a href="glm.html#exercises-8"><i class="fa fa-check"></i><b>12.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="surv-anal.html"><a href="surv-anal.html"><i class="fa fa-check"></i><b>13</b> Survival Analysis</a><ul>
<li class="chapter" data-level="13.1" data-path="surv-anal.html"><a href="surv-anal.html#exercises-9"><i class="fa fa-check"></i><b>13.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="pred-mod.html"><a href="pred-mod.html"><i class="fa fa-check"></i><b>14</b> Predictive Models</a><ul>
<li class="chapter" data-level="14.1" data-path="pred-mod.html"><a href="pred-mod.html#bias-variance-trade-off"><i class="fa fa-check"></i><b>14.1</b> Bias-Variance Trade-Off</a></li>
<li class="chapter" data-level="14.2" data-path="pred-mod.html"><a href="pred-mod.html#cross-validation"><i class="fa fa-check"></i><b>14.2</b> Cross-Validation</a></li>
<li class="chapter" data-level="14.3" data-path="pred-mod.html"><a href="pred-mod.html#balancing-classes"><i class="fa fa-check"></i><b>14.3</b> Balancing Classes</a></li>
<li class="chapter" data-level="14.4" data-path="pred-mod.html"><a href="pred-mod.html#model-performance"><i class="fa fa-check"></i><b>14.4</b> Model Performance</a></li>
<li class="chapter" data-level="14.5" data-path="pred-mod.html"><a href="pred-mod.html#automated-machine-learning-automl"><i class="fa fa-check"></i><b>14.5</b> Automated Machine Learning (AutoML)</a></li>
<li class="chapter" data-level="14.6" data-path="pred-mod.html"><a href="pred-mod.html#exercises-10"><i class="fa fa-check"></i><b>14.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="unsup-lrn.html"><a href="unsup-lrn.html"><i class="fa fa-check"></i><b>15</b> Unsupervised Learning</a><ul>
<li class="chapter" data-level="15.1" data-path="unsup-lrn.html"><a href="unsup-lrn.html#factor-analysis"><i class="fa fa-check"></i><b>15.1</b> Factor Analysis</a></li>
<li class="chapter" data-level="15.2" data-path="unsup-lrn.html"><a href="unsup-lrn.html#clustering"><i class="fa fa-check"></i><b>15.2</b> Clustering</a></li>
<li class="chapter" data-level="15.3" data-path="unsup-lrn.html"><a href="unsup-lrn.html#exercises-11"><i class="fa fa-check"></i><b>15.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="net-anal.html"><a href="net-anal.html"><i class="fa fa-check"></i><b>16</b> Network Analysis</a><ul>
<li class="chapter" data-level="16.1" data-path="net-anal.html"><a href="net-anal.html#centrality-measures"><i class="fa fa-check"></i><b>16.1</b> Centrality Measures</a></li>
<li class="chapter" data-level="16.2" data-path="net-anal.html"><a href="net-anal.html#exercises-12"><i class="fa fa-check"></i><b>16.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="data-viz.html"><a href="data-viz.html"><i class="fa fa-check"></i><b>17</b> Data Visualization</a><ul>
<li class="chapter" data-level="17.1" data-path="data-viz.html"><a href="data-viz.html#design-guidelines"><i class="fa fa-check"></i><b>17.1</b> Design Guidelines</a></li>
<li class="chapter" data-level="17.2" data-path="data-viz.html"><a href="data-viz.html#visualization-types"><i class="fa fa-check"></i><b>17.2</b> Visualization Types</a><ul>
<li class="chapter" data-level="17.2.1" data-path="data-viz.html"><a href="data-viz.html#tables"><i class="fa fa-check"></i><b>17.2.1</b> Tables</a></li>
<li class="chapter" data-level="17.2.2" data-path="data-viz.html"><a href="data-viz.html#heatmaps"><i class="fa fa-check"></i><b>17.2.2</b> Heatmaps</a></li>
<li class="chapter" data-level="17.2.3" data-path="data-viz.html"><a href="data-viz.html#scatterplots"><i class="fa fa-check"></i><b>17.2.3</b> Scatterplots</a></li>
<li class="chapter" data-level="17.2.4" data-path="data-viz.html"><a href="data-viz.html#line-graphs"><i class="fa fa-check"></i><b>17.2.4</b> Line Graphs</a></li>
<li class="chapter" data-level="17.2.5" data-path="data-viz.html"><a href="data-viz.html#slopegraphs"><i class="fa fa-check"></i><b>17.2.5</b> Slopegraphs</a></li>
<li class="chapter" data-level="17.2.6" data-path="data-viz.html"><a href="data-viz.html#bar-charts"><i class="fa fa-check"></i><b>17.2.6</b> Bar Charts</a></li>
<li class="chapter" data-level="17.2.7" data-path="data-viz.html"><a href="data-viz.html#waterfall-charts"><i class="fa fa-check"></i><b>17.2.7</b> Waterfall Charts</a></li>
<li class="chapter" data-level="17.2.8" data-path="data-viz.html"><a href="data-viz.html#area-charts"><i class="fa fa-check"></i><b>17.2.8</b> Area Charts</a></li>
<li class="chapter" data-level="17.2.9" data-path="data-viz.html"><a href="data-viz.html#pie-charts"><i class="fa fa-check"></i><b>17.2.9</b> Pie Charts</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="data-viz.html"><a href="data-viz.html#exercises-13"><i class="fa fa-check"></i><b>17.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="storytelling.html"><a href="storytelling.html"><i class="fa fa-check"></i><b>18</b> Data Storytelling</a><ul>
<li class="chapter" data-level="18.1" data-path="storytelling.html"><a href="storytelling.html#know-your-audience"><i class="fa fa-check"></i><b>18.1</b> Know Your Audience</a></li>
<li class="chapter" data-level="18.2" data-path="storytelling.html"><a href="storytelling.html#tldr"><i class="fa fa-check"></i><b>18.2</b> TL;DR</a></li>
<li class="chapter" data-level="18.3" data-path="storytelling.html"><a href="storytelling.html#telling-the-story"><i class="fa fa-check"></i><b>18.3</b> Telling the Story</a></li>
<li class="chapter" data-level="18.4" data-path="storytelling.html"><a href="storytelling.html#reference-material"><i class="fa fa-check"></i><b>18.4</b> Reference Material</a></li>
<li class="chapter" data-level="18.5" data-path="storytelling.html"><a href="storytelling.html#exercises-14"><i class="fa fa-check"></i><b>18.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="bibli.html"><a href="bibli.html"><i class="fa fa-check"></i><b>19</b> Bibliography</a></li>
<li class="chapter" data-level="20" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>20</b> Appendix</a><ul>
<li class="chapter" data-level="20.1" data-path="appendix.html"><a href="appendix.html#exercise-solutions"><i class="fa fa-check"></i><b>20.1</b> Exercise Solutions</a></li>
<li class="chapter" data-level="20.2" data-path="appendix.html"><a href="appendix.html#d-framework-1"><i class="fa fa-check"></i><b>20.2</b> 4D Framework</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to the People Analytics Lifecycle</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aod" class="section level1">
<h1><span class="header-section-number">10</span> Analysis of Differences</h1>
<p>There are many statistical tests that can be used to test for differences within or between two or more groups. This chapter will cover the most common types of differences in people analytics and the tests applicable to each.</p>
<div id="parametric-vs.nonparametric-tests" class="section level2">
<h2><span class="header-section-number">10.1</span> Parametric vs. Nonparametric Tests</h2>
<p>In the context of continuous (quantitative) data, we will cover parametric tests along with their nonparametric counterparts. When the hypothesis relates to average (mean) differences and <span class="math inline">\(n\)</span> is large, <strong>parametric tests</strong> are preferred as they generally have more statistical power. <strong>Nonparametric tests</strong> are <strong>distribution-free tests</strong> that do not require the population’s distribution to be characterized by certain parameters, such as a normal distribution defined by a mean and standard deviation. Nonparametric tests are great for qualitative data since the distribution of non-numeric data cannot be characterized by parameters.</p>
<p>Assuming the assumptions of parametric tests hold, parametric tests generally have more power than their nonparametric counterparts. This means that with a nonparametric test, we are less likely to reject the null hypothesis when it is false if the data come from normally distributed populations. Since the mean (expected value) is the most common measure of central tendency, parametric tests usually focus on comparing the mean or variance of data. You may recall that <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> are sufficient to characterize a population distribution when data are situated symmetrically around the mean. However, the mean can be sensitive to outliers. If outliers are present in the data, the median may be a better way of representing the central tendency of data; in this case, nonparametric tests may be more appropriate. Just remember that the use of nonparametric tests requires hypotheses to be modified to adjust for <em>median</em> – rather than <em>mean</em> – centers.</p>
<p>In addition to normally distributed data in the population, and ensuring outliers are not materially influencing the mean, parametric tests also assume <strong>homogeneity of variance</strong> and <strong>independence</strong>. Homogeneity of variance assumes the variances across multiple groups are equal, though parametric tests are generally robust to violations of equal variances when the sample sizes are large. The assumption of independence requires observations to be randomly sampled from the population and independent of one another; that is, the value of one observation does not influence or depend on the value of another.</p>
<p>You may be wondering whether the magical elixir that is the CLT, which we covered in Chapter <a href="inf-stats.html#inf-stats">8</a>, influences our ability to utilize parametric tests. It’s important to remember that the normal distribution properties under the CLT relate to the <em>sampling distribution of means</em> – not to the distribution of the population or to the data for an individual sample. The CLT is important for estimating population parameters, but it does not transform a population distribution from nonnormal to normal. If we know the population distribution is nonnormal (e.g., ordinal, nominal, or skewed data), nonparametric tests should be considered. This is why we used Spearman’s correlation coefficient – a nonparametric test – in Chapter <a href="desc-stats.html#desc-stats">7</a> to evaluate the relationship between job level and education; these ordinal data are not normally distributed in the population.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="co"># Load employee data</span></a>
<a class="sourceLine" id="cb246-2" data-line-number="2">employees &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;/Users/craig.starbuck/Library/Mobile Documents/com~apple~CloudDocs/Documents/People Analytics Book/GitHub/peopleanalytics_lifecycle_book/data/employees.csv&quot;</span>)</a></code></pre></div>
</div>
<div id="differences-in-discrete-data" class="section level2">
<h2><span class="header-section-number">10.2</span> Differences in Discrete Data</h2>
<p>Discrete data require nonparametric tests since these data do not come from normally distributed populations. The two most commonly used tests to analyze discrete variables are the <em>Chi-square test</em> and <em>Fischer’s exact test</em>. Both tests organize data within 2x2 <strong>contingency tables</strong> which enables us to understand interrelations between variables.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:contingency-tbl"></span>
<img src="graphics/contingency_table.png" alt="2x2 Contingency Table of Promotions for Remote and Non-Remote Workers" width="100%" />
<p class="caption">
Figure 10.1: 2x2 Contingency Table of Promotions for Remote and Non-Remote Workers
</p>
</div>
<p><strong>Chi-Square Test</strong></p>
<p>The <strong>Chi-square test</strong> evaluates patterns of observations to determine if categories occur more frequently than we would expect by chance.</p>
<p>The most common strength test when a significant Chi-Square statistic is observed is Cramer’s V.</p>
<p><strong>Fischer’s Exact Test</strong></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:discrete-tests"></span>
<img src="graphics/discrete_differences_test_table.png" alt="Chi-Square and Fisher Exact Test Criteria for Discrete Data" width="100%" />
<p class="caption">
Figure 10.2: Chi-Square and Fisher Exact Test Criteria for Discrete Data
</p>
</div>
</div>
<div id="differences-in-continuous-data" class="section level2">
<h2><span class="header-section-number">10.3</span> Differences in Continuous Data</h2>
<p>Figure <a href="aod.html#fig:continuous-tests">10.3</a> provides a side-by-side of parametric and corresponding nonparametric tests of differences for continuous data.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:continuous-tests"></span>
<img src="graphics/continuous_differences_test_table.png" alt="Parametric and Nonparametric Tests of Differences for Continuous Data" width="100%" />
<p class="caption">
Figure 10.3: Parametric and Nonparametric Tests of Differences for Continuous Data
</p>
</div>
<p>### Independent Samples <span class="math inline">\(t\)</span>-Test</p>
<p>### Welch’s <span class="math inline">\(t\)</span>-Test</p>
<p>### Mann-Whitney U Test</p>
<p>### Wilcoxon Rank-Sum Test</p>
<p>### Wilcoxon Signed-Rank Test</p>
<p>### Paired Samples T-Test</p>
<p>In addition to testing for statistical significance, it is important to understand the magnitude of any observed differences. Comparing unstandardized mean differences between groups is dangerous, as the magnitude of difference is scale-dependent.</p>
<p>Figure <a href="aod.html#fig:mean-group-diff">10.4</a> illustrates the danger in comparing differences between unstandardized group means. The data were sampled from normal distributions with very different parameters, and the magnitude of differences is visually deceptive given the vastly different measurement scales for these data. The mean difference between distributions shown in Figure A is statistically significant, albeit small (<span class="math inline">\(MD = 1\)</span>). The sample means shown in Figure B are not statistically different, though the difference is relatively large (<span class="math inline">\(MD = 87\)</span>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:mean-group-diff"></span>
<img src="People_Analytics_Lifecycle_files/figure-html/mean-group-diff-1.png" alt="Deceptive Density Plots: 
 Figure A: Statistically significant mean differences (MD = 1, n = 50, p &lt; .05) 
 Figure B: Statistically insignificant mean differences (MD = 87, n = 50, p &gt; .05)" width="100%" />
<p class="caption">
Figure 10.4: Deceptive Density Plots:
Figure A: Statistically significant mean differences (MD = 1, n = 50, p &lt; .05)
Figure B: Statistically insignificant mean differences (MD = 87, n = 50, p &gt; .05)
</p>
</div>
<p>There are several standardized measures available for quantifying the size of observed differences beyond significance testing.</p>
<p>### Cohen’s <span class="math inline">\(d\)</span></p>
<p><strong>Cohen’s</strong> <span class="math inline">\(\textbf d\)</span> is a standardized measure of the difference between two means. Cohen’s <span class="math inline">\(d\)</span> is defined by:</p>
<p><span class="math display">\[ d = \frac{\bar{x}_1 - \bar{x}_2} {s_p},  \]</span></p>
<p>where <span class="math inline">\(s_p\)</span> represents the pooled standard deviation defined by:</p>
<p><span class="math display">\[ s_p = \sqrt\frac{s^2_1 + s^2_2}{2} \]</span></p>
<p>Cohen’s <span class="math inline">\(d\)</span> can be produced using the <code>cohen.d()</code> function from the <code>effsize</code> package in R. The following thresholds can be referenced as a <em>general</em> rule of thumb for interpreting effect size:</p>
<ul>
<li><strong>Small</strong> = 0.2</li>
<li><strong>Medium</strong> = 0.5</li>
<li><strong>Large</strong> = 0.8</li>
</ul>
<p>### Cliff’s Delta</p>
<p><strong>Cliff’s delta</strong> provides the effect size for ordinal variables. Simply put, Cliff’s delta measures how often a value in one distribution is higher than values in another, and this is appropriate in situations in which a nonparametric test of differences is used. This statistic can be produced using the <code>cliff.delta()</code> function from the <code>effsize</code> package in R.</p>
<p>Some (e.g., Vargha &amp; Delaney, 2000) have endeavored to categorize the Cliff’s delta statistic, which ranges from -1 to 1, into effect size buckets. However, such categorizations are far more controversial than thresholds attributed to Cohen’s d.</p>
<p>### Analysis of Variance (ANOVA)</p>
<p><strong>Analysis of Variance (ANOVA)</strong> is used to determine whether the means of scale-level DVs are equal across nominal-level variables with three or more independent categories.</p>
<p>It is important to understand that <span class="math inline">\(H_0\)</span> in ANOVA not only requires all group means to be equal but their complex contrasts as well. For example, if we have four groups named A, B, C, and D, <span class="math inline">\(H_0\)</span> requires that <span class="math inline">\(\mu_A = \mu_B = \mu_C = \mu_D\)</span> is true as well as the various complex contrasts such as <span class="math inline">\(\mu_{A,B} = \mu_{C,D}\)</span> and <span class="math inline">\(\mu_A = \mu_{B,C,D}\)</span> and <span class="math inline">\(\mu_D = \mu_{B,C}\)</span>. Therefore, in order to reject <span class="math inline">\(H_0\)</span> in ANOVA, at least one of the possible contrasts must be different. As a result, we may find a significant <span class="math inline">\(F\)</span>-statistic but no significant differences between pairwise means.</p>
<p>In addition, it is possible to find a significant pairwise mean difference but a non-significant result from ANOVA. As you may recall from Chapter <a href="inf-stats.html#inf-stats">8</a>, multiple comparisons reduce the power of statistical tests. Since multiple tests of mean differences are performed with ANOVA, the family-wise error rate is used to adjust for the increased probability of a Type I error across the set of analyses. Since the power of a single pairwise test is greater relative to the power of familywise comparisons, we may find a significant result for the former but not the latter.</p>
<p>ANOVA requires IVs to be categorical (nominal or ordinal) and the DV to be continuous (interval or ratio). A <strong>one-way ANOVA</strong> is used to determine how one categorical IV influences a continuous DV. A <strong>two-way ANOVA</strong> is used to determine how two categorical IVs influence a continuous DV, while a <strong>three-way ANOVA</strong> is used to evaluate how three categorical IVs influence a continuous DV. An ANOVA that uses two or more categorical IVs is often referred to as a <strong>factorial ANOVA</strong>. As discussed in Chapter <a href="getting-started.html#getting-started">3</a>, it is important to remain grounded in specific hypotheses, as a significant ANOVA may not actually test what is being hypothesized.</p>
<p>ANOVA is not a test, per se, but a <span class="math inline">\(F\)</span>-test underpins it. The mathematical procedure behind the <span class="math inline">\(F\)</span>-test is relatively straightforward:</p>
<ol style="list-style-type: decimal">
<li>Compute the <strong>within-group variance</strong>, which is also known as residual variance. Simply put, this tells us how different each member of the group is from the average.</li>
<li>Compute the <strong>between-group variance</strong>. This represents how different the group means are from one another.</li>
<li>Produce the <span class="math inline">\(F\)</span>-statistic, which is the <em>within-group variance</em> / <em>between-group variance</em>.</li>
</ol>
<p>Beyond ensuring the data were generated from a random and representative process, as well as following the data screening procedures outlined in Chapter <a href="data-wrang-prep.html#data-wrang-prep">9</a> (e.g., addressing any outliers), ANOVA has three key assumptions:</p>
<ol style="list-style-type: decimal">
<li><strong>Independence</strong>: Observations within each group are independent of each other</li>
<li><strong>Homogeneity of Variance</strong>: Variances of populations from which samples were drawn are equal</li>
<li><strong>Normality</strong>: Residuals must be normally distributed (with mean of 0) within each group</li>
</ol>
<p><strong>One-Way ANOVA</strong></p>
<p>To illustrate how to perform a one-way ANOVA, we will test the hypothesis that mean annual compensation is equal across job satisfaction levels.</p>
<p>Each observation in <code>employees</code> represents a unique employee, and a given employee can only have one job satisfaction score and one annual compensation value. The assumption of independence is met since each record exists independent of one another and each job satisfaction group is comprised of different employees.</p>
<p>Levene’s test (Levene, 1960) can be used to test the homogeneity of variance assumption. This can be performed in R using the <code>leveneTest()</code> function from the <code>car</code> package:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" data-line-number="1"><span class="co"># Load library for Levene&#39;s test</span></a>
<a class="sourceLine" id="cb247-2" data-line-number="2"><span class="kw">library</span>(car)</a>
<a class="sourceLine" id="cb247-3" data-line-number="3"></a>
<a class="sourceLine" id="cb247-4" data-line-number="4"><span class="co"># Perform Levene&#39;s test for homogeneity of variance</span></a>
<a class="sourceLine" id="cb247-5" data-line-number="5">car<span class="op">::</span><span class="kw">leveneTest</span>(annual_comp <span class="op">~</span><span class="st"> </span><span class="kw">as.factor</span>(job_sat), <span class="dt">data =</span> employees)</a></code></pre></div>
<pre><code>## Levene&#39;s Test for Homogeneity of Variance (center = median)
##         Df F value Pr(&gt;F)
## group    3  0.3293 0.8042
##       1466</code></pre>
<p>The test statistic associated with Levene’s test relates to the null hypothesis that there are no significant differences in variances across the job satisfaction levels. Since <span class="math inline">\(p &gt; .05\)</span>, we fail to reject this null hypothesis and can assume equal variances.</p>
<p>Next, let’s test the assumption of normality. It is important to note that the assumption of normality <em>does not</em> apply to the distribution of the DV but to the distribution of residuals for each group of the IV. Residuals in the context of ANOVA represent the difference between the actual values of the continuous DV relative to its mean value for each level of the categorical IV (e.g., <span class="math inline">\(y - \bar{y}_A\)</span>, <span class="math inline">\(y - \bar{y}_B\)</span>, <span class="math inline">\(y - \bar{y}_C\)</span>). In ANOVA, we expect the residuals to be normally distributed around a mean of 0 (the balance point) when the data are normally distributed within each IV category; the more skewed the data, the larger the average distance of each DV value from the mean.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" data-line-number="1"><span class="co"># Load data viz library</span></a>
<a class="sourceLine" id="cb249-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb249-3" data-line-number="3"><span class="kw">library</span>(ggpubr)</a>
<a class="sourceLine" id="cb249-4" data-line-number="4"></a>
<a class="sourceLine" id="cb249-5" data-line-number="5"><span class="co"># Create function to visualize distribution</span></a>
<a class="sourceLine" id="cb249-6" data-line-number="6">dist.viz &lt;-<span class="st"> </span><span class="cf">function</span>(data, x) {</a>
<a class="sourceLine" id="cb249-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb249-8" data-line-number="8">viz &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb249-9" data-line-number="9"><span class="st">       </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb249-10" data-line-number="10"><span class="st">       </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Job Sat = &quot;</span>, x), <span class="dt">x =</span> <span class="st">&quot;Annual Compensation&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Frequency&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb249-11" data-line-number="11"><span class="st">       </span>ggplot2<span class="op">::</span><span class="kw">geom_histogram</span>(<span class="dt">fill =</span> <span class="st">&quot;#414141&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb249-12" data-line-number="12"><span class="st">       </span>ggplot2<span class="op">::</span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb249-13" data-line-number="13"><span class="st">       </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">hjust =</span> <span class="fl">0.5</span>))</a>
<a class="sourceLine" id="cb249-14" data-line-number="14"></a>
<a class="sourceLine" id="cb249-15" data-line-number="15">  <span class="kw">return</span>(viz)</a>
<a class="sourceLine" id="cb249-16" data-line-number="16">}</a>
<a class="sourceLine" id="cb249-17" data-line-number="17"></a>
<a class="sourceLine" id="cb249-18" data-line-number="18"><span class="co"># Produce annual compensation vectors for each job satisfaction level</span></a>
<a class="sourceLine" id="cb249-19" data-line-number="19"><span class="co"># Unlist() is needed to convert the default object from subset() into a numeric vector</span></a>
<a class="sourceLine" id="cb249-20" data-line-number="20">group_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">subset</span>(employees, job_sat <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">select =</span> annual_comp))</a>
<a class="sourceLine" id="cb249-21" data-line-number="21">group_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">subset</span>(employees, job_sat <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dt">select =</span> annual_comp))</a>
<a class="sourceLine" id="cb249-22" data-line-number="22">group_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">subset</span>(employees, job_sat <span class="op">==</span><span class="st"> </span><span class="dv">3</span>, <span class="dt">select =</span> annual_comp))</a>
<a class="sourceLine" id="cb249-23" data-line-number="23">group_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">subset</span>(employees, job_sat <span class="op">==</span><span class="st"> </span><span class="dv">4</span>, <span class="dt">select =</span> annual_comp))</a>
<a class="sourceLine" id="cb249-24" data-line-number="24"></a>
<a class="sourceLine" id="cb249-25" data-line-number="25"><span class="co"># Call UDF to build annual comp histogram for each job satisfaction level</span></a>
<a class="sourceLine" id="cb249-26" data-line-number="26">viz_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">dist.viz</span>(<span class="dt">data =</span> group_<span class="dv">1</span>, <span class="dt">x =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb249-27" data-line-number="27">viz_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">dist.viz</span>(<span class="dt">data =</span> group_<span class="dv">2</span>, <span class="dt">x =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb249-28" data-line-number="28">viz_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">dist.viz</span>(<span class="dt">data =</span> group_<span class="dv">3</span>, <span class="dt">x =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb249-29" data-line-number="29">viz_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">dist.viz</span>(<span class="dt">data =</span> group_<span class="dv">4</span>, <span class="dt">x =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb249-30" data-line-number="30"></a>
<a class="sourceLine" id="cb249-31" data-line-number="31"><span class="co"># Display distribution visualizations</span></a>
<a class="sourceLine" id="cb249-32" data-line-number="32">ggpubr<span class="op">::</span><span class="kw">ggarrange</span>(viz_<span class="dv">1</span>, viz_<span class="dv">2</span>, viz_<span class="dv">3</span>, viz_<span class="dv">4</span>,</a>
<a class="sourceLine" id="cb249-33" data-line-number="33">          <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">nrow =</span> <span class="dv">2</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:comp-dist"></span>
<img src="People_Analytics_Lifecycle_files/figure-html/comp-dist-1.png" alt="Annual Compensation Distribution by Job Satisfaction Level" width="672" />
<p class="caption">
Figure 10.5: Annual Compensation Distribution by Job Satisfaction Level
</p>
</div>
<p>As we can see, annual compensation is not normally distributed within job satisfaction groups. Therefore, we would not expect the distribution of residuals to be normally distributed within these groups either.</p>
<p>To test whether the assumption of normality is met, we will first produce and review a <strong>quantile-quantile (Q-Q) plot</strong>. A Q-Q plot compares two probability distributions by plotting their quantiles (data partitioned into equal-sized groups) against each other. After partitioning annual compensation into groups differentiated by job satisfaction level, we can use the <code>ggqqplot()</code> function from the <code>ggpubr</code> library to build a Q-Q plot and evaluate the distribution of residuals.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1"><span class="co"># Generate residuals for each group</span></a>
<a class="sourceLine" id="cb250-2" data-line-number="2">residuals &lt;-<span class="st"> </span><span class="kw">c</span>(group_<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(group_<span class="dv">1</span>), group_<span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(group_<span class="dv">2</span>), group_<span class="dv">3</span> <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(group_<span class="dv">3</span>), group_<span class="dv">4</span> <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(group_<span class="dv">4</span>))</a>
<a class="sourceLine" id="cb250-3" data-line-number="3"></a>
<a class="sourceLine" id="cb250-4" data-line-number="4"><span class="co"># Create a Q-Q plot of residuals</span></a>
<a class="sourceLine" id="cb250-5" data-line-number="5">ggpubr<span class="op">::</span><span class="kw">ggqqplot</span>(residuals)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:qq-plot"></span>
<img src="People_Analytics_Lifecycle_files/figure-html/qq-plot-1.png" alt="Q-Q Plot of Annual Compensation Residuals" width="672" />
<p class="caption">
Figure 10.6: Q-Q Plot of Annual Compensation Residuals
</p>
</div>
<p>To satisfy the assumption of normality, residuals must lie along the linear line. Based on the Q-Q plot in Figure <a href="aod.html#fig:qq-plot">10.6</a>, there is a clear departure from normality at both ends of the theoretical range.</p>
<p>There are several alternatives to a visual inspection of normality, such as the <span class="math inline">\({\chi}^2\)</span> <strong>Goodness-of-Fit</strong> test (Snedecor &amp; Cochran, 1980), <strong>Kolmogorov-Smirnov (K-S)</strong> test (Chakravarti, Laha, &amp; Roy, 1967), or <strong>Shapiro-Wilk</strong> test (Shapiro &amp; Wilk, 1965). The general idea is consistent for each of these tests: compare observed data to what would be expected if data are sampled from a normally distributed population. The <span class="math inline">\({\chi}^2\)</span> Goodness-of-Fit test compares the <em>count</em> of data points across the range of values relative to what would be expected in each for a sample with the same dimensions taken from a normal distribution. For example, if data are sampled from a normal population distribution, it follows that roughly half the values should exist below the mean and half above the mean. The K-S test evaluates how the observed <em>cumulative</em> distribution compares to the properties of a normal <em>cumulative</em> distribution. The Shapiro-Wilk test is based on <em>correlations</em> between observed and expected data.</p>
<p>Let’s test for normality using the Shapiro-Wilk test. The null hypothesis for the Shapiro-Wilk test is that the data are normally distributed. The <code>shapiro.test()</code> function can be used to run this test in R using the model residuals:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" data-line-number="1"><span class="co"># Compute Shapiro-Wilk test of normality</span></a>
<a class="sourceLine" id="cb251-2" data-line-number="2"><span class="kw">shapiro.test</span>(residuals)</a></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  residuals
## W = 0.95874, p-value &lt; 2.2e-16</code></pre>
<p>Since <span class="math inline">\(p &lt; .05\)</span>, we reject the null hypothesis of normally distributed data, which indicates that the assumption of normality is violated. This should not be surprising based on the deviation from normality we observed in Figure <a href="aod.html#fig:qq-plot">10.6</a>.</p>
<p>Because the assumption of normality is violated, we have two options. First, we can attempt to transform the data so that the residuals using the transformed values are normally distributed. If the data are resistant to transformation, we can leverage a nonparametric alternative to ANOVA.</p>
<p>Let’s first try several common data transformations and then examine the resulting Q-Q plots:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb253-1" data-line-number="1"><span class="co"># Build a linear model using the natural logarithm of annual comp</span></a>
<a class="sourceLine" id="cb253-2" data-line-number="2">ln.model &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">log</span>(annual_comp) <span class="op">~</span><span class="st"> </span>job_sat, <span class="dt">data =</span> employees)</a>
<a class="sourceLine" id="cb253-3" data-line-number="3"></a>
<a class="sourceLine" id="cb253-4" data-line-number="4"><span class="co"># Build a linear model using the log base 10 of annual comp</span></a>
<a class="sourceLine" id="cb253-5" data-line-number="5">log10.model &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">log10</span>(annual_comp) <span class="op">~</span><span class="st"> </span>job_sat, <span class="dt">data =</span> employees)</a>
<a class="sourceLine" id="cb253-6" data-line-number="6"></a>
<a class="sourceLine" id="cb253-7" data-line-number="7"><span class="co"># Build a linear model using the square root of annual comp</span></a>
<a class="sourceLine" id="cb253-8" data-line-number="8">sqrt.model &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">sqrt</span>(annual_comp) <span class="op">~</span><span class="st"> </span>job_sat, <span class="dt">data =</span> employees)</a>
<a class="sourceLine" id="cb253-9" data-line-number="9"></a>
<a class="sourceLine" id="cb253-10" data-line-number="10"><span class="co"># Store Q-Q plots to viz objects</span></a>
<a class="sourceLine" id="cb253-11" data-line-number="11">ln.viz &lt;-<span class="st"> </span>ggpubr<span class="op">::</span><span class="kw">ggqqplot</span>(<span class="kw">residuals</span>(ln.model)) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Natural Log&quot;</span>)</a>
<a class="sourceLine" id="cb253-12" data-line-number="12">log10.viz &lt;-<span class="st"> </span>ggpubr<span class="op">::</span><span class="kw">ggqqplot</span>(<span class="kw">residuals</span>(log10.model)) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Log Base 10&quot;</span>)</a>
<a class="sourceLine" id="cb253-13" data-line-number="13">sqrt.viz &lt;-<span class="st"> </span>ggpubr<span class="op">::</span><span class="kw">ggqqplot</span>(<span class="kw">residuals</span>(sqrt.model)) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Square Root&quot;</span>)</a>
<a class="sourceLine" id="cb253-14" data-line-number="14"></a>
<a class="sourceLine" id="cb253-15" data-line-number="15"><span class="co"># Display Q-Q plots of residuals</span></a>
<a class="sourceLine" id="cb253-16" data-line-number="16">ggpubr<span class="op">::</span><span class="kw">ggarrange</span>(ln.viz, log10.viz, sqrt.viz,</a>
<a class="sourceLine" id="cb253-17" data-line-number="17">          <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">nrow =</span> <span class="dv">1</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:qq-plots-trans"></span>
<img src="People_Analytics_Lifecycle_files/figure-html/qq-plots-trans-1.png" alt="Q-Q Plots of Transformed Annual Compensation Residuals" width="672" />
<p class="caption">
Figure 10.7: Q-Q Plots of Transformed Annual Compensation Residuals
</p>
</div>
<p>Even with these transformations, there is still a clear S-shaped curve about the residuals.</p>
<p>The <strong>Kruskal Wallis H Test</strong> is the nonparametric alternative to a one-way ANOVA (Daniel, 1990). This test can be performed using the <code>kruskal.test()</code> function in R:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="co"># Nonparametric Kruskal one-way ANOVA investigating median differences in annual comp by job satisfaction</span></a>
<a class="sourceLine" id="cb254-2" data-line-number="2"><span class="kw">kruskal.test</span>(annual_comp <span class="op">~</span><span class="st"> </span>job_sat, <span class="dt">data =</span> employees)</a></code></pre></div>
<pre><code>## 
##  Kruskal-Wallis rank sum test
## 
## data:  annual_comp by job_sat
## Kruskal-Wallis chi-squared = 8.3242, df = 3, p-value = 0.03977</code></pre>
<p>Since <span class="math inline">\(p &lt; .05\)</span>, we can conclude that there are significant differences in median compensation across the groups. However, this test does not indicate which groups are different.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1"><span class="kw">pairwise.wilcox.test</span>(employees<span class="op">$</span>annual_comp, employees<span class="op">$</span>job_sat, <span class="dt">p.adjust.method =</span> <span class="st">&quot;BH&quot;</span>)</a></code></pre></div>
<pre><code>## 
##  Pairwise comparisons using Wilcoxon rank sum test with continuity correction 
## 
## data:  employees$annual_comp and employees$job_sat 
## 
##   1     2     3    
## 2 0.298 -     -    
## 3 0.041 0.298 -    
## 4 0.041 0.298 0.879
## 
## P value adjustment method: BH</code></pre>
<p>ANOVA can be performed using the <code>aov()</code> function, followed by the <code>summary()</code> function to display model output:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1"><span class="co"># One-way ANOVA investigating mean differences in annual comp by job satisfaction</span></a>
<a class="sourceLine" id="cb258-2" data-line-number="2">one.way &lt;-<span class="st"> </span><span class="kw">aov</span>(annual_comp <span class="op">~</span><span class="st"> </span>job_sat, <span class="dt">data =</span> employees)</a>
<a class="sourceLine" id="cb258-3" data-line-number="3"><span class="kw">summary</span>(one.way)</a></code></pre></div>
<pre><code>##               Df    Sum Sq   Mean Sq F value  Pr(&gt;F)   
## job_sat        1 1.337e+10 1.337e+10   7.508 0.00622 **
## Residuals   1468 2.613e+12 1.780e+09                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p><strong>Factorial ANOVA</strong></p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1"><span class="co"># Factorial ANOVA investigating mean differences in annual comp by job satisfaction and dept</span></a>
<a class="sourceLine" id="cb260-2" data-line-number="2">factorial &lt;-<span class="st"> </span><span class="kw">aov</span>(annual_comp <span class="op">~</span><span class="st"> </span>job_sat <span class="op">+</span><span class="st"> </span>dept, <span class="dt">data =</span> employees)</a>
<a class="sourceLine" id="cb260-3" data-line-number="3"><span class="kw">summary</span>(factorial)</a></code></pre></div>
<pre><code>##               Df    Sum Sq   Mean Sq F value  Pr(&gt;F)   
## job_sat        1 1.337e+10 1.337e+10   7.502 0.00624 **
## dept           2 1.375e+09 6.874e+08   0.386 0.67995   
## Residuals   1466 2.612e+12 1.782e+09                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1"><span class="co"># ANOVA investigating interaction between mean differences in annual comp by job satisfaction x dept</span></a>
<a class="sourceLine" id="cb262-2" data-line-number="2">interaction &lt;-<span class="st"> </span><span class="kw">aov</span>(annual_comp <span class="op">~</span><span class="st"> </span>job_sat <span class="op">*</span><span class="st"> </span>dept, <span class="dt">data =</span> employees)</a>
<a class="sourceLine" id="cb262-3" data-line-number="3"><span class="kw">summary</span>(interaction)</a></code></pre></div>
<pre><code>##                Df    Sum Sq   Mean Sq F value Pr(&gt;F)   
## job_sat         1 1.337e+10 1.337e+10   7.514 0.0062 **
## dept            2 1.375e+09 6.874e+08   0.386 0.6795   
## job_sat:dept    2 7.762e+09 3.881e+09   2.182 0.1132   
## Residuals    1464 2.604e+12 1.779e+09                  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div id="post-hoc-tests" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Post-Hoc Tests</h3>
<p><strong>Tukey’s Honest Significant Difference (HSD)</strong> test</p>
<p><strong>Scheffe</strong></p>
<p><strong>Bonferroni</strong></p>
</div>
</div>
<div id="exercises-6" class="section level2">
<h2><span class="header-section-number">10.4</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-wrang-prep.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lm.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["People_Analytics_Lifecycle.pdf", "People_Analytics_Lifecycle.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
